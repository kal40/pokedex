let pokemonRepository=function(){let e=[],t=function(t){"object"==typeof t&&"name"in t?e.push(t):console.log("Pokemon object is not correct.")},n=function(e,t){let n=document.createElement("div");n.classList.add("card","text-bg-dark","text-center"),n.setAttribute("id",`${e.name}-card`);let i=document.createElement("img");i.classList.add("card-img-top"),i.setAttribute("src",e.imgFrontUrl),i.setAttribute("alt",`${e.name} profile picture`);let o=document.createElement("div");o.classList.add("card-body");let r=document.createElement("h5");r.classList.add("card-title"),r.innerText=e.name;let a=document.createElement("a");a.classList.add("btn","btn-outline-success"),a.setAttribute("href","#"),a.setAttribute("data-bs-toggle","modal"),a.setAttribute("data-bs-target","#pokemon-modal"),a.setAttribute("data-bs-pokemonIndex",t),a.innerText="More Details";let l=document.querySelector(".pokemon-list");o.appendChild(r),o.appendChild(a),n.appendChild(i),n.appendChild(o),l.appendChild(n),console.log(t)},i=function(){return e},o=function(){return l(),fetch("https://pokeapi.co/api/v2/pokemon/?limit=99").then(function(e){return e.json()}).then(function(e){for(let n of e.results){let i={name:d(n.name),detailUrl:n.url};t(i)}}).then(async function(){for(let t of e)await fetch(t.detailUrl).then(function(e){return e.json()}).then(function(e){t.imgFrontUrl=e.sprites.front_default}).catch(function(e){console.error(`Oh, something went wrong: ${e}`)});c()}).catch(function(e){console.error(`Something went wrong: ${e}`),c()})},r=function(e){let t="";return e.types.forEach(function(e,n){n>0?t+=`, ${e.type.name}`:t+=e.type.name}),t},a=function(e){let t="";return e.abilities.forEach(function(e,n){n>0?t+=`, ${e.ability.name}`:t+=e.ability.name}),t};function l(){document.querySelector(".loader").classList.remove("hidden")}function c(){document.querySelector(".loader").classList.add("hidden")}document.querySelector("input[type='search']").addEventListener("search",function t(n){var i;let o=document.querySelectorAll(".card"),r=n.target.value.toLowerCase();console.log(r),console.log(o);i=e.filter(e=>e.name.toLowerCase().includes(r)),e.forEach(function(e){i.includes(e)?document.querySelector(`#${e.name}-card`).classList.remove("hidden"):document.querySelector(`#${e.name}-card`).classList.add("hidden")})});let s=document.getElementById("pokemon-modal");function d(e){return e.charAt(0).toUpperCase()+e.slice(1)}return s.addEventListener("show.bs.modal",t=>{var n;let i=t.relatedTarget,o=i.getAttribute("data-bs-pokemonIndex");(n=e[o],l(),fetch(n.detailUrl).then(function(e){return e.json()}).then(function(e){n.imgBackUrl=e.sprites.back_default,n.height=e.height,n.types=e.types,n.abilities=e.abilities}).catch(function(e){console.error(`Oh, something went wrong: ${e}`),c()})).then(function(){let t=s.querySelector(".modal-title"),n=s.querySelector(".modal-body");t.innerText=e[o].name,n.innerHTML=`
      <div class="container-fluid">
        <div class="row row-cols-auto justify-content-center">
          <div class="col-5">
            <img src="${e[o].imgFrontUrl}" alt="${e[o].name}" width=100%>
          </div>
          <div class="col-5">
            <img src="${e[o].imgBackUrl}"  alt="${e[o].name}"  width=100%>
          </div>
        </div>
        <div class="row">
          <div class="col">
            <p>Height: ${e[o].height}</p>
            <p>Types: ${r(e[o])}</p>
            <p>Abilities: ${a(e[o])}</p>
            </div>
        </div>
      </div>
        `,c()})}),s.addEventListener("hidden.bs.modal",()=>{let e=s.querySelector(".modal-title"),t=s.querySelector(".modal-body");e.innerText="",t.innerHTML=""}),{add:t,addListItem:n,loadList:o,getAll:i}}();pokemonRepository.loadList().then(function(){pokemonRepository.getAll().forEach(function(e,t){pokemonRepository.addListItem(e,t)})});